{"componentChunkName":"component---src-templates-blog-post-js","path":"/dev-ops-docker","result":{"data":{"site":{"siteMetadata":{"title":"Michael Blog","author":"Michael Luo"}},"markdownRemark":{"id":"a001270a-2a69-5445-9693-1f7efc946400","excerpt":"Userful commands Stop all containers docker stop $(docker ps -a -q) Delete all containers docker rm $(docker ps -a -q) Delete all images docker rmi $(dockerâ€¦","html":"<h1>Userful commands</h1>\n<h2>Stop all containers</h2>\n<p>docker stop $(docker ps -a -q)</p>\n<h3>Delete all containers</h3>\n<p>docker rm $(docker ps -a -q)</p>\n<h3>Delete all images</h3>\n<p>docker rmi $(docker images -q)</p>\n<p> If you need to go inside the container you can use the exec command:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"># Enter the container\n$ docker exec -it &lt;container id&gt; /bin/bash</code></pre></div>\n<h2>Production <em>docker-compose</em></h2>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ docker-compose build web\n$ docker-compose up --no-deps -d web</code></pre></div>\n<p>This will first rebuild the image for <code class=\"language-text\">web</code> and then stop, destroy, and recreate just the web service. The <code class=\"language-text\">--no-deps</code> flag prevents Compose from also recreating any services which <code class=\"language-text\">web</code> depends on.</p>\n<blockquote>\n<p>clean up logs</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">truncate -s <span class=\"token number\">0</span> /var/lib/docker/containers/*/*-json.log</code></pre></div>","frontmatter":{"title":"Docker Notes!","date":"January 31, 2019"}}},"pageContext":{"slug":"dev-ops-docker","previous":{"fields":{"slug":"dev-ops-elk"},"frontmatter":{"title":"ELK Stack Notes!"}},"next":{"fields":{"slug":"dev-ops-aws"},"frontmatter":{"title":"AWS Notes!"}}}}}